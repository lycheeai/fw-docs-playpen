"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[460],{2979:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var i=n(4848),o=n(8453);const s={title:"Gifting Guide (BETA FEATURE)",displayed_sidebar:"webhooks"},r=void 0,a={id:"webhooks/gifting-guide",title:"Gifting Guide (BETA FEATURE)",description:"Below you will find all the information you need to know about gifting with Fourthwall.",source:"@site/docs/webhooks/gifting-guide.md",sourceDirName:"webhooks",slug:"/webhooks/gifting-guide",permalink:"/webhooks/gifting-guide",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Gifting Guide (BETA FEATURE)",displayed_sidebar:"webhooks"},sidebar:"webhooks"},d={},h=[{value:"1. How to enable Streamelements gifting",id:"1-how-to-enable-streamelements-gifting",level:3},{value:"2. Webhook configuration",id:"2-webhook-configuration",level:3},{value:"3. How to start Gift Draw",id:"3-how-to-start-gift-draw",level:3},{value:"4. How to finish Gift Draw",id:"4-how-to-finish-gift-draw",level:3}];function l(e){const t={a:"a",br:"br",code:"code",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Below you will find all the information you need to know about gifting with Fourthwall."}),"\n",(0,i.jsxs)(t.p,{children:["If you use JetBrains tools you can use sample http requests from ",(0,i.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(437).A+"",children:"here"}),".",(0,i.jsx)(t.br,{}),"\n","Webhooks can be found ",(0,i.jsx)(t.a,{href:"/webhooks/webhook-event-types-beta",children:"here"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"1-how-to-enable-streamelements-gifting",children:"1. How to enable Streamelements gifting"}),"\n",(0,i.jsxs)(t.p,{children:["1.1. Go to ",(0,i.jsx)(t.a,{href:"https://my-shop.fourthwall.com/admin/dashboard/apps/twitch",children:"Twitch Gifting App"})," in your Fourthwall admin\ndashboard.",(0,i.jsx)(t.br,{}),"\n","1.2. Select Streamelements gifting radio button and ensure that your shop is connected with Streamelements.",(0,i.jsx)(t.br,{}),"\n","1.3. Click on the ",(0,i.jsx)(t.code,{children:"Enable"})," checkbox to enable the Twitch Gifting App."]}),"\n",(0,i.jsx)(t.h3,{id:"2-webhook-configuration",children:"2. Webhook configuration"}),"\n",(0,i.jsxs)(t.p,{children:["Go to ",(0,i.jsx)(t.a,{href:"https://my-shop.staging.fourthwall.com/admin/dashboard/settings/for-developers",children:"Webhook Settings"}),"\nAnd create webhook for"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.code,{children:"GIFT_DRAW_STARTED"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.code,{children:"GIFT_DRAW_ENDED"})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"3-how-to-start-gift-draw",children:"3. How to start Gift Draw"}),"\n",(0,i.jsx)(t.p,{children:"3.1 Ensure your stream is live."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-http",metastring:"request",children:'PUT https://{{host}}/open-api/v1.0/streaming/start\nAuthorization: {{openApiUserAuth}}\nContent-Type: application/json\n\n{\n  "services": [\n    {\n      "type": "TWITCH",\n      "broadcasterId": "test-broadcaster-id",\n      "broadcasterLogin": "raziosx",\n      "thumbnailUrl": "test-thumbnail-url"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["3.2. Go to your shop main page and purchase as gift any product.\n",(0,i.jsx)(t.img,{alt:"Gift To twitch Chat",src:n(3201).A+"",width:"568",height:"205"})]}),"\n",(0,i.jsxs)(t.p,{children:["3.3. It should send webhook event on webhook ",(0,i.jsx)(t.code,{children:"Gift draw started"})," configured in step 2."]}),"\n",(0,i.jsx)(t.h3,{id:"4-how-to-finish-gift-draw",children:"4. How to finish Gift Draw"}),"\n",(0,i.jsx)(t.p,{children:"4.1. Send a request to finish the draw."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-http",metastring:"request",children:'PUT https://{{host}}/open-api/v1.0/gifting/draw/{{drawId}}/finish\nAuthorization: {{openApiUserAuth}}\nContent-Type: application/json\n\n{\n  "participants": [\n    {\n      "service": "TWITCH",\n      "userId": "{{twitchWinnerUserId}}",\n      "userName": "{{twitchWinnerUserName}}"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["4.2. In response you will get the winner details along with redeem url.",(0,i.jsx)(t.br,{}),"\n","4.3. We will also notify about the winner in the configured webhook ",(0,i.jsx)(t.code,{children:"Gift draw ended"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"!!! Gift draws not finished in configured time (+ 1 minute) will be automatically finished without winners to allow\nredoing the draw."})]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},437:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/files/gifting-sample-eb9d41dd25ba82d4464d1d5e86ece842.http"},3201:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/gift-to-twitch-chat-9ad90fe1513a184f8f445772e8fdd5d1.png"},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(6540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);